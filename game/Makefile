CC = g++
CFLAGS = -fpermissive -Wfatal-errors -DNDEBUG -D__linux__ -m32 -D_JK2MP -DQAGAME -DLUGORMOD -DLMD_NEW_WEAPONS -DLMD_NEW_FORCEPOWERS -DLMD_NEW_SKILLSYS -D_DEBUG -D_JK2 -DJK2AWARDS
TARGET = jampgamei386.so

OFILES = \
ai_main.o \
ai_util.o \
ai_wpnav.o \
AnimalNPC.o \
../disasm/asmserv.o \
../disasm/assembl.o \
bg_g2_utils.o \
bg_lib.o \
bg_misc.o \
bg_panimate.o \
bg_pmove.o \
bg_saber.o \
bg_saberLoad.o \
bg_saga.o \
bg_slidemove.o \
bg_vehicleLoad.o \
bg_weapons.o \
../disasm/disasm.o \
FighterNPC.o \
g_active.o \
g_arenas.o \
g_battleground.o \
g_bot.o \
g_client.o \
g_cmds.o \
g_combat.o \
g_defender.o \
g_exphysics.o \
g_ghost.o \
g_ICARUScb.o \
g_items.o \
g_lingoCleaner.o \
g_log.o \
g_main.o \
g_mem.o \
g_misc.o \
g_missile.o \
g_mover.o \
g_nav.o \
g_navnew.o \
g_object.o \
g_saga.o \
g_session.o \
g_spawn.o \
g_strap.o \
g_svcmds.o \
g_syscalls.o \
g_target.o \
g_team.o \
g_timer.o \
g_trigger.o \
g_turret.o \
g_turret_G2.o \
g_utils.o \
g_vehicles.o \
g_vehicleTurret.o \
g_weapon.o \
Lmd_Accounts.o \
Lmd_Accounts_Core.o \
Lmd_Accounts_CustomSkills.o \
Lmd_Accounts_Friends.o \
Lmd_Accounts_Property.o \
Lmd_Accounts_Stats.o \
Lmd_Actor_Core.o \
Lmd_Actor_Entities.o \
Lmd_Admin.o \
Lmd_API_Accounts.o \
Lmd_API_Commands_Auths.o \
Lmd_API_Entities.o \
Lmd_API_Memory.o \
Lmd_API_Professions.o \
Lmd_Arrays.o \
Lmd_Bans.o \
Lmd_Checksum.o \
Lmd_Command_Confirm.o \
Lmd_Command_Interact.o \
Lmd_Commands.o \
Lmd_Commands_Auths.o \
Lmd_Commands_Cheats.o \
Lmd_Commands_Core.o \
Lmd_Commands_NPC.o \
Lmd_Console.o \
Lmd_Crafting.o \
Lmd_CrashReport.o \
Lmd_Credits.o \
Lmd_Creditshunt.o \
Lmd_Data.o \
Lmd_Entities_Commands.o \
Lmd_Entities_Core.o \
Lmd_Entities_Ents.o \
Lmd_Entities_Groups.o \
Lmd_Entities_Logical.o \
Lmd_Entities_Spawner.o \
Lmd_Factions_Old.o \
Lmd_Force_Core.o \
Lmd_Force_Dark.o \
Lmd_Force_Light.o \
Lmd_Force_Neutral.o \
Lmd_Inventory_Core.o \
Lmd_Inventory_Core_AccBased.o \
Lmd_Inventory_General.o \
Lmd_Inventory_Quest.o \
Lmd_IPs.o \
Lmd_KeyPairs.o \
Lmd_King.o \
Lmd_Locations.o \
Lmd_Main.o \
Lmd_mem.o \
Lmd_Misc.o \
Lmd_Missile.o \
Lmd_ParseField.o \
Lmd_Parser.o \
Lmd_Patcher.o \
Lmd_PlayerActions.o \
Lmd_PlayerGuide.o \
Lmd_Prof_Core.o \
Lmd_Prof_Jedi.o \
Lmd_Prof_Jedi_Crafting.o \
Lmd_Prof_Merc.o \
Lmd_Prof_Other.o \
Lmd_Prof_Tech.o \
Lmd_Prof_Tech_Old.o \
Lmd_Property.o \
Lmd_RandomChat.o \
Lmd_RandomSpot.o \
Lmd_Script.o \
Lmd_StashZone.o \
Lmd_Time.o \
lmd_turret.o \
Lmd_Variables.o \
Lmd_Weapons_Core.o \
naken.o \
NPC.o \
NPC_AI_Atst.o \
NPC_AI_Default.o \
NPC_AI_Droid.o \
NPC_AI_GalakMech.o \
NPC_AI_Grenadier.o \
NPC_AI_Howler.o \
NPC_AI_ImperialProbe.o \
NPC_AI_Interrogator.o \
NPC_AI_Jedi.o \
NPC_AI_Mark1.o \
NPC_AI_Mark2.o \
NPC_AI_MineMonster.o \
NPC_AI_Rancor.o \
NPC_AI_Remote.o \
NPC_AI_Sand_creature.o \
NPC_AI_Seeker.o \
NPC_AI_Sentry.o \
NPC_AI_Sniper.o \
NPC_AI_Stormtrooper.o \
NPC_AI_Utils.o \
NPC_AI_Wampa.o \
NPC_behavior.o \
NPC_combat.o \
NPC_goal.o \
NPC_misc.o \
NPC_move.o \
NPC_reactions.o \
NPC_senses.o \
NPC_sounds.o \
NPC_spawn.o \
NPC_stats.o \
NPC_utils.o \
q_math.o \
q_shared.o \
qtalk.o \
SpeederNPC.o \
tri_coll_test.o \
w_force.o \
w_saber.o \
WalkerNPC.o

$(TARGET): $(OFILES)
	$(CC) -m32 -shared -o $(TARGET) $(OFILES) -lm -pthread

.c.o:
	$(CC) $(CFLAGS) -c $*.c -o $*.o

clean:
	rm -f $(OFILES)
	rm -f $(TARGET)
